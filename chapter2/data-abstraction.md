# 데이터 추상화

SICP에서는 데이터 추상화의 예로서 유리수를 구현했다.

유리수는 두 정수 a, b에 대해서 a/b 꼴로 나타낼 수 있는 수이다.
그러므로 유리수는 분자(numerator)와 분모(denominator)의 짝으로 생각할 수 있다.

그렇다면 추상화는 어떻게 해야하는 걸까?

1. pair
2. make-rat, denom, numer
3. add-rat, sub-rat, mul-rat, div-ret, ...
4. 이들을 사용하는 프로그램

아래로 갈 수록 더 높은 추상화 단계이다.
(1)은 가장 기본적인 단계로 pair를 이용한 구현을 의미한다.
(2)는 그런 데이터를 만들고 접근하기 위한 생성자, 접근자들이다.
(3)은 (2)을 이용해서 만든 "공공의"의 프로시저들이다.
(4)은 마지막으로 (3)을 이용해서 만든 프로그램이다.

이렇게 나누면 뭐가 좋아질까?

가장 큰 장점은 프로그램이 구현체에 의존하지 않고 매우 유연하다는 것이다.

예로들어 pair가 아니라 hash map으로 구현하고 싶다고 하자.
그럼 뭘 변경해야할까?

(2)까지만 변경하면 그 위인 (3), (4)은 전혀 바꿀 필요가 없다. 본래 예정된 행동만 한다면.
만약 이런식으로 추상화를 해놓지 않고 (4)단계에서 직접 pair를 이용해 프로그램을 짠다고 하자.
이제 이걸 다른 데이터 구조로 구현해야한다고 상상하자. 얼마나 끔직한 상상인가...

이러한 이유에 의해 데이터를 추상화하는 것이다.
