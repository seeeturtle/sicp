# Exercise 1.13
**note:**
```
양의 제곱근을 $라고 표시하겠습니다.
```
**note:**
```
편의상 a=(1+$5)/2,
b=(1-$5)/2라고 하겠습니다
```

# Problem
```
0보다 큰 정수 n에 대해서
( define ( Fib n )
         ( cond ( ( = n 0 ) 0 )
                ( ( = n 1 ) 1 )
                ( ( > n 1 ) ( + ( Fib ( - n 1 ) ) ( Fib ( - n 2 ) ) ) ) ) )
```
위와 같은 함수 `Fib`가 주어져있을 때,
0보다 같거나 큰 정수 `n`에 대해서
`Fib(n)`이 `( a^n )/$5`에 가장 가까운 정수임을 증명하시오

# Solution
우선 책에서 준 힌트부터 증명하도록 하겠습니다.
`Fib(n)`의 정의에 따르면
1. 만약 `n > 1`일 경우에는 `Fib(n) = Fib(n-1) + Fib(n-2)`가 성립해야 합니다.
2. 또한 **n**이 0일 경우에는 0,
3. **n**이 1일 경우에는 1이여야 합니다.

그럼 각각 증명하도록 하겠습니다.

### Prove 1

```
(a^n-b^n)/$5 = { a^(n-1)-b^(n-1) }/$5 + { a^(n-2)-b^(n-2) }/$5 ... 1
```
가 성립한다고 가정하자.
양변에 `$5`를 곱하면
```
(a^n-b^n)/$5 = a^(n-1)-b^(n-1) + a^(n-2)-b^(n-2)
```
**a**와 **b**에 각각 대입을 하자.
```
{(1+$5)^n-(1-$5)^n}/2^n = {(1+$5)^(n-1) - (1-$5)^(n-1)}/2^(n-1) + {(1+$5)^(n-2) - (1-$5)^(n-2)}/2^(n-2)
```
이고, 양변에 `2^n`을 곱하면
```
(1+$5)^n - (1-$5)^n = 2*(1+$5)^(n-1) + 2*(1-$5)^(n-1) + 4*(1+$5)^(n-2) + 4*(1-$5)^(n-2)
```
모두 좌변으로 정리하면
```
(1+$5)^(n-2) * {(1+$5)^2 - 2*(1+$5) - 4} = 0 ... 2
```
이때
```
(1+$5)^2 - 2*(1+$5) - 4 = 1 + 2*$5 + 5 - 2 - 2*$5 - 4 = 0
```
그러므로, 2번식은 성립하게 된다.
즉, 1번식이 성립하는 것이다.

### Prove 2, 3
무식하게 대입하면 됩니다.

`(a^n-b^n)/$5` 에 0을 대입하게 되면
`(1 - 1)/$5 = 0`이 됩니다.

마찬가지로 1을 대입하게 되면
`(1/2 + $5/2 - 1/2 1 $5/2)/$5 = $5/$5 = 1`이 됩니다.


이 세가지가 다 증명 됬으므로
`Fib(n)=(a^n-b^n)/$5`이 증명이 됩니다.


하지만 이것만으로는 문제가 해결이 안됩니다.
이제는 `(a^n-b^n)/$5`가 `a^n/$5`에 가장 가까운 정수임을 증명해야합니다만...
아직 못했습니다... 추후에 증명을 한다면 다시 올리겠습니다.

### Final Prove
슬프게도 스스로 증명하지 못해서 증명을 정리해서 올리겠습니다 :(

**note**:
임의 실수 x, 임의 정수 a에 대해서
`| x - a |` 범위가 어떨때 a가 x의 가장 가까운 정수가 되는 가
에 대한 [증명](when-a-is-closest.md) (참고로 이건 제가 한 것입니다...)

위 증명에 따라 `0 <= | a^n/$5 - Fib(n) | <= 0.5`가 성립한다면
`Fib(n)`가 항상 `a^n/$5`의 가장 가까운 정수임을 증명할 수 있을 것입니다

우선 `Fib(n) = (a^n - b^n)/$5`을 `a^n/$5 - Fib(n)` 에 대입하게 되면
```
a^n/$5 - a^n/$5 + b^n/$5
= b^n/$5
```
이때 b의 범위를 구하겠습니다.

`b = (1 - $5) / 2`이므로
```
$4 < $5 < $9
2 < $5 < 3 ... 1
-3 < -$5 < -2
-2 < 1 - $5 < -1
-1 < (1 - $5) / 2 < -0.5
-1 < b < -0.5 ... 2
```
그러므로 `b^n/$5`의 범위는
```
2번에 의해서

1. n이 짝수 일때
(-0.5)^n < b^n < 1
1번에 의해서
(-0.5)^n/3 < b^n/$5 < 1/2 = 0.5 가 성립한다. ... 3

2. n이 홀수 일때
-1 < b^n < (-0.5)^n
1번에 의해서
-0.5 = -1/2 < b^n/$5 < (-0.5)^n/3 가 성립한다. ... 4
```
이다.

`| a^n/$5 - Fib(n) |`의 범위를 구하면
```
| a^n/$5 - Fib(n) |
= | b^n/$5 |

1. n이 짝수일때
0 < (-0.5)^n/3 <= 1/3 = (-0.5)^0/3 가 성립하므로
(이 항은 n이 증가함에 따라 0에 가까워지게 되지만 0은 될 수 가 없습니다.)
3번에 의해서
0 < b^n/$5 < 0.5
0 < | b^n/$5 | < 0.5가 성립한다.

2. n이 홀수일때
(-0.5)^1/3 = -1/6 <= (-0.5)^n/3 < 0 가 성립하므로
(위와 같이 n이 증가함에 따라 0에 가까워지게 되지만 0은 될 수 가 없습니다.)
4번에 의해서
-0.5 < b^n/$5 < 0
0 < | b^n/$5 | < 0.5가 성립한다.
```
두가지 경우 모두 `0 < | b^n/$5 | < 0.5`가 성립하게 된다.

즉 `0 <= | a^n/$5 - Fib(n) | <= 0.5`는 항상 만족하게 된다.
(위 범위가 아래 범위안에 있으므로)
